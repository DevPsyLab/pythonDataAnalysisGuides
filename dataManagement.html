<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quarto Website - Data Management</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NLF0RWB1CE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NLF0RWB1CE');
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="includes/custom.css">
<link rel="stylesheet" href="font/css/roboto.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Quarto Website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-python-guides" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Python Guides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-python-guides">    
        <li>
    <a class="dropdown-item" href="./dataManagement.html">
 <span class="dropdown-text">Data Management</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-links" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Links</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-links">    
        <li>
    <a class="dropdown-item" href="https://devpsylab.github.io/LabWiki/">
 <span class="dropdown-text">Lab Wiki</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://devpsylab.github.io/DataAnalysis">
 <span class="dropdown-text">Data Analysis Guides</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://devpsylab.github.io/LabWiki"> 
<span class="menu-text">Lab Wiki</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://developmental-psychopathology.lab.uiowa.edu"> 
<span class="menu-text">Lab Website</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#importModules" id="toc-importModules" class="nav-link active" data-scroll-target="#importModules"><span class="header-section-number">1</span> Import Modules</a></li>
  <li><a href="#importData" id="toc-importData" class="nav-link" data-scroll-target="#importData"><span class="header-section-number">2</span> Import Data</a></li>
  <li><a href="#saveData" id="toc-saveData" class="nav-link" data-scroll-target="#saveData"><span class="header-section-number">3</span> Save Data</a></li>
  <li><a href="#seed" id="toc-seed" class="nav-link" data-scroll-target="#seed"><span class="header-section-number">4</span> Set a Seed</a></li>
  <li><a href="#runScript" id="toc-runScript" class="nav-link" data-scroll-target="#runScript"><span class="header-section-number">5</span> Run a <code>Python</code> Script</a></li>
  <li><a href="#renderQmd" id="toc-renderQmd" class="nav-link" data-scroll-target="#renderQmd"><span class="header-section-number">6</span> Render a Quarto (<code>.qmd</code>) File</a></li>
  <li><a href="#varNames" id="toc-varNames" class="nav-link" data-scroll-target="#varNames"><span class="header-section-number">7</span> Variable Names</a></li>
  <li><a href="#logicalOperators" id="toc-logicalOperators" class="nav-link" data-scroll-target="#logicalOperators"><span class="header-section-number">8</span> Logical Operators</a>
  <ul class="collapse">
  <li><a href="#is-equal-to" id="toc-is-equal-to" class="nav-link" data-scroll-target="#is-equal-to"><span class="header-section-number">8.1</span> Is Equal To: <code>==</code></a></li>
  <li><a href="#is-not-equal-to" id="toc-is-not-equal-to" class="nav-link" data-scroll-target="#is-not-equal-to"><span class="header-section-number">8.2</span> Is Not Equal To: <code>!=</code></a>
  <ul class="collapse">
  <li><a href="#greater-than" id="toc-greater-than" class="nav-link" data-scroll-target="#greater-than"><span class="header-section-number">8.2.1</span> Greater Than: <code>&gt;</code></a></li>
  </ul></li>
  <li><a href="#less-than" id="toc-less-than" class="nav-link" data-scroll-target="#less-than"><span class="header-section-number">8.3</span> Less Than: <code>&lt;</code></a></li>
  <li><a href="#greater-than-or-equal-to" id="toc-greater-than-or-equal-to" class="nav-link" data-scroll-target="#greater-than-or-equal-to"><span class="header-section-number">8.4</span> Greater Than or Equal To: <code>&gt;=</code></a></li>
  <li><a href="#less-than-or-equal-to" id="toc-less-than-or-equal-to" class="nav-link" data-scroll-target="#less-than-or-equal-to"><span class="header-section-number">8.5</span> Less Than or Equal To: <code>&lt;=</code></a></li>
  <li><a href="#is-in-a-value-of-another-vector-isin" id="toc-is-in-a-value-of-another-vector-isin" class="nav-link" data-scroll-target="#is-in-a-value-of-another-vector-isin"><span class="header-section-number">8.6</span> Is in a Value of Another Vector: <code>isin</code></a></li>
  <li><a href="#is-not-in-a-value-of-another-vector" id="toc-is-not-in-a-value-of-another-vector" class="nav-link" data-scroll-target="#is-not-in-a-value-of-another-vector"><span class="header-section-number">8.7</span> Is Not in a Value of Another Vector</a></li>
  <li><a href="#is-missing-isnull" id="toc-is-missing-isnull" class="nav-link" data-scroll-target="#is-missing-isnull"><span class="header-section-number">8.8</span> Is Missing: <code>isnull()</code></a></li>
  <li><a href="#is-not-missing-notnull" id="toc-is-not-missing-notnull" class="nav-link" data-scroll-target="#is-not-missing-notnull"><span class="header-section-number">8.9</span> Is Not Missing: <code>notnull()</code></a></li>
  <li><a href="#and" id="toc-and" class="nav-link" data-scroll-target="#and"><span class="header-section-number">8.10</span> And: <code>&amp;</code></a></li>
  <li><a href="#or" id="toc-or" class="nav-link" data-scroll-target="#or"><span class="header-section-number">8.11</span> Or: <code>|</code></a></li>
  </ul></li>
  <li><a href="#subset" id="toc-subset" class="nav-link" data-scroll-target="#subset"><span class="header-section-number">9</span> Subset</a>
  <ul class="collapse">
  <li><a href="#one-variable" id="toc-one-variable" class="nav-link" data-scroll-target="#one-variable"><span class="header-section-number">9.1</span> One Variable</a></li>
  <li><a href="#particular-rows-of-one-variable" id="toc-particular-rows-of-one-variable" class="nav-link" data-scroll-target="#particular-rows-of-one-variable"><span class="header-section-number">9.2</span> Particular Rows of One Variable</a></li>
  <li><a href="#particular-columns-variables" id="toc-particular-columns-variables" class="nav-link" data-scroll-target="#particular-columns-variables"><span class="header-section-number">9.3</span> Particular Columns (Variables)</a></li>
  <li><a href="#particular-rows" id="toc-particular-rows" class="nav-link" data-scroll-target="#particular-rows"><span class="header-section-number">9.4</span> Particular Rows</a></li>
  <li><a href="#particular-rows-and-columns" id="toc-particular-rows-and-columns" class="nav-link" data-scroll-target="#particular-rows-and-columns"><span class="header-section-number">9.5</span> Particular Rows and Columns</a></li>
  </ul></li>
  <li><a href="#viewData" id="toc-viewData" class="nav-link" data-scroll-target="#viewData"><span class="header-section-number">10</span> View Data</a>
  <ul class="collapse">
  <li><a href="#all-data" id="toc-all-data" class="nav-link" data-scroll-target="#all-data"><span class="header-section-number">10.1</span> All Data</a></li>
  <li><a href="#first-6-rowselements" id="toc-first-6-rowselements" class="nav-link" data-scroll-target="#first-6-rowselements"><span class="header-section-number">10.2</span> First 6 Rows/Elements</a></li>
  </ul></li>
  <li><a href="#dataCharacteristics" id="toc-dataCharacteristics" class="nav-link" data-scroll-target="#dataCharacteristics"><span class="header-section-number">11</span> Data Characteristics</a>
  <ul class="collapse">
  <li><a href="#data-structure" id="toc-data-structure" class="nav-link" data-scroll-target="#data-structure"><span class="header-section-number">11.1</span> Data Structure</a></li>
  <li><a href="#data-dimensions" id="toc-data-dimensions" class="nav-link" data-scroll-target="#data-dimensions"><span class="header-section-number">11.2</span> Data Dimensions</a></li>
  <li><a href="#number-of-elements" id="toc-number-of-elements" class="nav-link" data-scroll-target="#number-of-elements"><span class="header-section-number">11.3</span> Number of Elements</a></li>
  <li><a href="#number-of-missing-elements" id="toc-number-of-missing-elements" class="nav-link" data-scroll-target="#number-of-missing-elements"><span class="header-section-number">11.4</span> Number of Missing Elements</a></li>
  <li><a href="#number-of-non-missing-elements" id="toc-number-of-non-missing-elements" class="nav-link" data-scroll-target="#number-of-non-missing-elements"><span class="header-section-number">11.5</span> Number of Non-Missing Elements</a></li>
  </ul></li>
  <li><a href="#createNewVars" id="toc-createNewVars" class="nav-link" data-scroll-target="#createNewVars"><span class="header-section-number">12</span> Create New Variables</a></li>
  <li><a href="#createDF" id="toc-createDF" class="nav-link" data-scroll-target="#createDF"><span class="header-section-number">13</span> Create a Dataframe</a></li>
  <li><a href="#recodeVars" id="toc-recodeVars" class="nav-link" data-scroll-target="#recodeVars"><span class="header-section-number">14</span> Recode Variables</a></li>
  <li><a href="#renameVars" id="toc-renameVars" class="nav-link" data-scroll-target="#renameVars"><span class="header-section-number">15</span> Rename Variables</a></li>
  <li><a href="#convertVarTypes" id="toc-convertVarTypes" class="nav-link" data-scroll-target="#convertVarTypes"><span class="header-section-number">16</span> Convert the Types of Variables</a></li>
  <li><a href="#merging" id="toc-merging" class="nav-link" data-scroll-target="#merging"><span class="header-section-number">17</span> Merging/Joins</a>
  <ul class="collapse">
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview"><span class="header-section-number">17.1</span> Overview</a></li>
  <li><a href="#data-before-merging" id="toc-data-before-merging" class="nav-link" data-scroll-target="#data-before-merging"><span class="header-section-number">17.2</span> Data Before Merging</a></li>
  <li><a href="#mergeTypes" id="toc-mergeTypes" class="nav-link" data-scroll-target="#mergeTypes"><span class="header-section-number">17.3</span> Types of Joins</a>
  <ul class="collapse">
  <li><a href="#visual-overview-of-join-types" id="toc-visual-overview-of-join-types" class="nav-link" data-scroll-target="#visual-overview-of-join-types"><span class="header-section-number">17.3.1</span> Visual Overview of Join Types</a></li>
  <li><a href="#fullJoin" id="toc-fullJoin" class="nav-link" data-scroll-target="#fullJoin"><span class="header-section-number">17.3.2</span> Full Outer Join</a></li>
  <li><a href="#leftJoin" id="toc-leftJoin" class="nav-link" data-scroll-target="#leftJoin"><span class="header-section-number">17.3.3</span> Left Outer Join</a></li>
  <li><a href="#rightJoin" id="toc-rightJoin" class="nav-link" data-scroll-target="#rightJoin"><span class="header-section-number">17.3.4</span> Right Outer Join</a></li>
  <li><a href="#innerJoin" id="toc-innerJoin" class="nav-link" data-scroll-target="#innerJoin"><span class="header-section-number">17.3.5</span> Inner Join</a></li>
  <li><a href="#crossJoin" id="toc-crossJoin" class="nav-link" data-scroll-target="#crossJoin"><span class="header-section-number">17.3.6</span> Cross Join</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#longToWide" id="toc-longToWide" class="nav-link" data-scroll-target="#longToWide"><span class="header-section-number">18</span> Long to Wide</a></li>
  <li><a href="#wideToLong" id="toc-wideToLong" class="nav-link" data-scroll-target="#wideToLong"><span class="header-section-number">19</span> Wide to Long</a></li>
  <li><a href="#avgAcrossCoders" id="toc-avgAcrossCoders" class="nav-link" data-scroll-target="#avgAcrossCoders"><span class="header-section-number">20</span> Average Ratings Across Coders</a></li>
  <li><a href="#session-info" id="toc-session-info" class="nav-link" data-scroll-target="#session-info"><span class="header-section-number">21</span> Session Info</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Data Management</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="importModules" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Import Modules</h1>
<p>The default way to import a module in <code>Python</code> is:</p>
<div id="ae66967e" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> moduleName1</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> moduleName2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:</p>
<pre class="{r}"><code>import math
import random
import collections

import numpy as np
import pandas as pd
import matplotlib.pyplot as pp</code></pre>
</section>
<section id="importData" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Import Data</h1>
<p>Importing data using <code>pandas</code> takes syntax of the following form for <code>.csv</code> files:</p>
<div id="649237c3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"filepath/filename.csv"</span>) <span class="co"># uses the pandas module</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below, I import a <code>.csv</code> file and save it into an object called <code>mydata</code> (you could call this object whatever you want):</p>
<div id="ba77f730" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> pd.read_csv(<span class="st">"https://osf.io/s6wrm/download"</span>) <span class="co"># uses the pandas module</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="saveData" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Save Data</h1>
<p>Saving data in Python takes syntax of the following form for <code>.csv</code> files:</p>
<div id="8570d6f8" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">object</span>.to_csv(<span class="st">"filepath/filename.csv"</span>, index <span class="op">=</span> <span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:</p>
<div id="9a69dfab" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mydata.to_csv(<span class="st">"mydata.csv"</span>, index <span class="op">=</span> <span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="seed" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Set a Seed</h1>
<p>Set a seed (any number) to reproduce the results of analyses that involve random number generation.</p>
<div id="917891e7" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>random.seed(<span class="dv">52242</span>) <span class="co"># uses the random module</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'random' is not defined</code></pre>
</div>
</div>
</section>
<section id="runScript" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Run a <code>Python</code> Script</h1>
<p>To run a <code>Python</code> script, use the following syntax:</p>
<div id="b0baa0fd" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>run <span class="st">"filepath/filename.py"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="renderQmd" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Render a Quarto (<code>.qmd</code>) File</h1>
<p>To render a Quarto (<code>.qmd</code>) file, you would typically use the command line. Here is the equivalent command in a <code>Python</code> cell using the <code>!</code> operator to run shell commands:</p>
<div id="06a82c6c" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>quarto render <span class="st">"filepath/filename.qmd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="varNames" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Variable Names</h1>
<p>To look at the names of variables in a dataframe, use the following syntax:</p>
<div id="68b390eb" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(mydata.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="logicalOperators" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Logical Operators</h1>
<p>Logical operators evaluate a condition for each value and yield values of <code>True</code> and <code>False</code>, corresponding to whether the evaluation for a given value met the condition.</p>
<section id="is-equal-to" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="is-equal-to"><span class="header-section-number">8.1</span> Is Equal To: <code>==</code></h2>
<div id="8c486c9f" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="is-not-equal-to" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="is-not-equal-to"><span class="header-section-number">8.2</span> Is Not Equal To: <code>!=</code></h2>
<div id="e9075736" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'survived'</span>] <span class="op">!=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<section id="greater-than" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="greater-than"><span class="header-section-number">8.2.1</span> Greater Than: <code>&gt;</code></h3>
<div id="18ee4c89" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&gt;</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
</section>
<section id="less-than" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="less-than"><span class="header-section-number">8.3</span> Less Than: <code>&lt;</code></h2>
<div id="3c569a2c" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&lt;</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="greater-than-or-equal-to" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="greater-than-or-equal-to"><span class="header-section-number">8.4</span> Greater Than or Equal To: <code>&gt;=</code></h2>
<div id="7b9ad631" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="less-than-or-equal-to" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="less-than-or-equal-to"><span class="header-section-number">8.5</span> Less Than or Equal To: <code>&lt;=</code></h2>
<div id="c36dbaf0" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&lt;=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="is-in-a-value-of-another-vector-isin" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="is-in-a-value-of-another-vector-isin"><span class="header-section-number">8.6</span> Is in a Value of Another Vector: <code>isin</code></h2>
<div id="6b53d761" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>anotherVector <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">1</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>].isin(anotherVector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="is-not-in-a-value-of-another-vector" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="is-not-in-a-value-of-another-vector"><span class="header-section-number">8.7</span> Is Not in a Value of Another Vector</h2>
<p>In Python, you can use the <code>~</code> operator in combination with the <code>isin</code> method to check if values are not in another sequence.</p>
<div id="08150943" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">~</span>mydata[<span class="st">'parch'</span>].isin(anotherVector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="is-missing-isnull" class="level2" data-number="8.8">
<h2 data-number="8.8" class="anchored" data-anchor-id="is-missing-isnull"><span class="header-section-number">8.8</span> Is Missing: <code>isnull()</code></h2>
<div id="4d948a14" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].isnull()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="is-not-missing-notnull" class="level2" data-number="8.9">
<h2 data-number="8.9" class="anchored" data-anchor-id="is-not-missing-notnull"><span class="header-section-number">8.9</span> Is Not Missing: <code>notnull()</code></h2>
<div id="56cb30bd" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].notnull()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="and" class="level2" data-number="8.10">
<h2 data-number="8.10" class="anchored" data-anchor-id="and"><span class="header-section-number">8.10</span> And: <code>&amp;</code></h2>
<div id="2763e8ad" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].notnull() <span class="op">&amp;</span> (mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="or" class="level2" data-number="8.11">
<h2 data-number="8.11" class="anchored" data-anchor-id="or"><span class="header-section-number">8.11</span> Or: <code>|</code></h2>
<div id="069cface" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].isnull() <span class="op">|</span> (mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
</section>
<section id="subset" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Subset</h1>
<p>To subset a dataframe, you can use the <code>loc</code> and <code>iloc</code> accessors, or directly access the columns by their names.</p>
<div id="cf1136c4" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>dataframe.loc[rowsToKeep, columnsToKeep]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>dataframe.iloc[rowIndices, columnIndices]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can subset by using any of the following:</p>
<ul>
<li>numeric indices of the rows/columns to keep (or drop)</li>
<li>names of the rows/columns to keep (or drop)</li>
<li>boolean arrays corresponding to which rows/columns to keep</li>
</ul>
<section id="one-variable" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="one-variable"><span class="header-section-number">9.1</span> One Variable</h2>
<p>To subset one variable, use the following syntax:</p>
<div id="78559574" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'age'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="particular-rows-of-one-variable" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="particular-rows-of-one-variable"><span class="header-section-number">9.2</span> Particular Rows of One Variable</h2>
<p>To subset one variable, use the following syntax:</p>
<div id="e59488e9" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>, <span class="st">'age'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="particular-columns-variables" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="particular-columns-variables"><span class="header-section-number">9.3</span> Particular Columns (Variables)</h2>
<p>To subset particular columns/variables, use the following syntax:</p>
<div id="e00d1ba2" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>subsetVars <span class="op">=</span> [<span class="st">"survived"</span>, <span class="st">"age"</span>, <span class="st">"prediction"</span>]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>mydata[subsetVars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Or, to drop columns:</p>
<div id="529250e9" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>dropVars <span class="op">=</span> [<span class="st">"sibsp"</span>, <span class="st">"parch"</span>]</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>mydata.drop(columns <span class="op">=</span> dropVars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="particular-rows" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="particular-rows"><span class="header-section-number">9.4</span> Particular Rows</h2>
<p>To subset particular rows, you can use the <code>iloc</code> accessor or boolean indexing.</p>
<div id="5f10b0bc" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>subsetRows <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>]  <span class="co"># Python uses 0-based indexing</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>mydata.iloc[subsetRows]</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>mydata[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="particular-rows-and-columns" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="particular-rows-and-columns"><span class="header-section-number">9.5</span> Particular Rows and Columns</h2>
<p>To subset particular rows and columns, you can use the <code>iloc</code> accessor or boolean indexing.</p>
<div id="3a7a8ab0" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>subsetRows <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>]  <span class="co"># Python uses 0-based indexing</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>subsetVars <span class="op">=</span> [<span class="st">"survived"</span>, <span class="st">"age"</span>, <span class="st">"prediction"</span>]</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>mydata.iloc[subsetRows][subsetVars]</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>, subsetVars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
</section>
<section id="viewData" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> View Data</h1>
<section id="all-data" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="all-data"><span class="header-section-number">10.1</span> All Data</h2>
<p>To view data in Python, you can simply print the dataframe:</p>
<div id="a64d1d48" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Or, if you’re using a <code>Jupyter</code> notebook, you can just write the name of the dataframe:</p>
<div id="b52ec1d9" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>mydata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="first-6-rowselements" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="first-6-rowselements"><span class="header-section-number">10.2</span> First 6 Rows/Elements</h2>
<p>To view only the first six rows of a dataframe or elements of a series, use the following syntax:</p>
<div id="5765421f" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>mydata.head()</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'age'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
</section>
<section id="dataCharacteristics" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Data Characteristics</h1>
<section id="data-structure" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="data-structure"><span class="header-section-number">11.1</span> Data Structure</h2>
<div id="62807bb1" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.info())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="data-dimensions" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="data-dimensions"><span class="header-section-number">11.2</span> Data Dimensions</h2>
<p>Number of rows and columns:</p>
<div id="698a0ed5" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="number-of-elements" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="number-of-elements"><span class="header-section-number">11.3</span> Number of Elements</h2>
<div id="b4e34bbe" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(mydata[<span class="st">'age'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="number-of-missing-elements" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="number-of-missing-elements"><span class="header-section-number">11.4</span> Number of Missing Elements</h2>
<div id="22358ecd" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata[<span class="st">'age'</span>].isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="number-of-non-missing-elements" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="number-of-non-missing-elements"><span class="header-section-number">11.5</span> Number of Non-Missing Elements</h2>
<div id="4e10cac9" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata[<span class="st">'age'</span>].notnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
</section>
<section id="createNewVars" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Create New Variables</h1>
<p>To create a new variable, you can directly assign a value to a new column in the dataframe.</p>
<div id="5aa678d7" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'newVar'</span>] <span class="op">=</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Here is an example of creating a new variable:</p>
<div id="2d79e9eb" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'ID'</span>] <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(mydata) <span class="op">+</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="createDF" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> Create a Dataframe</h1>
<p>Here is an example of creating a dataframe:</p>
<div id="51fe0b09" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>mydata2 <span class="op">=</span> pd.DataFrame({ <span class="co"># uses pandas module</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'ID'</span>: <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)) <span class="op">+</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1047</span>, <span class="dv">1052</span>)),</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'cat'</span>: np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], <span class="dv">10</span>) <span class="co"># uses numpy module</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>mydata2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
<section id="recodeVars" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> Recode Variables</h1>
<p>Here is an example of recoding a variable:</p>
<div id="2a57e21a" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"male"</span>, <span class="st">'oldVar1'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"female"</span>, <span class="st">'oldVar1'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"male"</span>, <span class="st">'oldVar2'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"female"</span>, <span class="st">'oldVar2'</span>] <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Recode multiple variables:</p>
<div id="9714ec21" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="st">'Yes'</span> <span class="cf">if</span> x <span class="op">==</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">'No'</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> x <span class="kw">in</span> [<span class="dv">0</span>, <span class="dv">1</span>] <span class="cf">else</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="renameVars" class="level1" data-number="15">
<h1 data-number="15"><span class="header-section-number">15</span> Rename Variables</h1>
<div id="ca7c46d2" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> mydata.rename(columns <span class="op">=</span> {</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'oldVar1'</span>: <span class="st">'newVar1'</span>,</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'oldVar2'</span>: <span class="st">'newVar2'</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Using a dictionary of variable names:</p>
<div id="7e378153" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>varNamesFrom <span class="op">=</span> [<span class="st">"oldVar1"</span>,<span class="st">"oldVar2"</span>]</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>varNamesTo <span class="op">=</span> [<span class="st">"newVar1"</span>,<span class="st">"newVar2"</span>]</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>rename_dict <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(varNamesFrom, varNamesTo))</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> mydata.rename(columns <span class="op">=</span> rename_dict)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="convertVarTypes" class="level1" data-number="16">
<h1 data-number="16"><span class="header-section-number">16</span> Convert the Types of Variables</h1>
<p>One variable:</p>
<div id="634bb377" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'factorVar'</span>] <span class="op">=</span> mydata[<span class="st">'sex'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'numericVar'</span>] <span class="op">=</span> mydata[<span class="st">'prediction'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'integerVar'</span>] <span class="op">=</span> mydata[<span class="st">'parch'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'characterVar'</span>] <span class="op">=</span> mydata[<span class="st">'sex'</span>].astype(<span class="bu">str</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Multiple variables:</p>
<div id="63476f03" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>mydata[[<span class="st">'age'</span>, <span class="st">'parch'</span>, <span class="st">'prediction'</span>]] <span class="op">=</span> mydata[[<span class="st">'age'</span>, <span class="st">'parch'</span>, <span class="st">'prediction'</span>]].astype(<span class="bu">float</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'age'</span>:<span class="st">'parch'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'age'</span>:<span class="st">'parch'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert all categorical columns to string</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> mydata.select_dtypes(<span class="st">'category'</span>).columns:</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    mydata[col] <span class="op">=</span> mydata[col].astype(<span class="bu">str</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
</section>
<section id="merging" class="level1" data-number="17">
<h1 data-number="17"><span class="header-section-number">17</span> Merging/Joins</h1>
<section id="overview" class="level2" data-number="17.1">
<h2 data-number="17.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">17.1</span> Overview</h2>
<p>Merging (also called joining) merges two data objects using a shared set of variables called “keys.” The keys are the variable(s) that uniquely identify each row (i.e., they account for the levels of nesting). In some data objects, the key might be the participant’s ID (e.g., <code>participantID</code>). However, some data objects have multiple keys. For instance, in long form data objects, each participant may have multiple rows corresponding to multiple timepoints. In this case, the keys are <code>participantID</code> and <code>timepoint</code>. If a participant has multiple rows corresponding to timepoints and measures, the keys are <code>participantID</code>, <code>timepoint</code>, and <code>measure</code>. In general, each row should have a value on each of the keys; there should be no missingness in the keys.</p>
<p>To merge two objects, the keys must be present in both objects. The keys are used to merge the variables in object 1 (<code>x</code>) with the variables in object 2 (<code>y</code>). Different merge types select different rows to merge.</p>
<p>Note: if the two objects include variables with the same name (apart from the keys), Python will not know how you want each to appear in the merged object. So, it will add a suffix (e.g., <code>_x</code>, <code>_y</code>) to each common variable to indicate which object (i.e., object <code>x</code> or object <code>y</code>) the variable came from, where object <code>x</code> is the first object—i.e., the object to which object <code>y</code> (the second object) is merged. In general, apart from the keys, you should not include variables with the same name in two objects to be merged. To prevent this, either remove or rename the shared variable in one of the objects, or include the shared variable as a key. However, as described above, you should include it as a key <strong><em>only</em></strong> if it uniquely identifies each row in terms of levels of nesting.</p>
</section>
<section id="data-before-merging" class="level2" data-number="17.2">
<h2 data-number="17.2" class="anchored" data-anchor-id="data-before-merging"><span class="header-section-number">17.2</span> Data Before Merging</h2>
<p>Here are the data in the <code>mydata</code> object:</p>
<div id="a9e5962b" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata' is not defined</code></pre>
</div>
</div>
<p>Here are the data in the <code>mydata2</code> object:</p>
<div id="b0a84625" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata2)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata2.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'mydata2' is not defined</code></pre>
</div>
</div>
</section>
<section id="mergeTypes" class="level2" data-number="17.3">
<h2 data-number="17.3" class="anchored" data-anchor-id="mergeTypes"><span class="header-section-number">17.3</span> Types of Joins</h2>
<section id="visual-overview-of-join-types" class="level3" data-number="17.3.1">
<h3 data-number="17.3.1" class="anchored" data-anchor-id="visual-overview-of-join-types"><span class="header-section-number">17.3.1</span> Visual Overview of Join Types</h3>
<p>Below is a visual that depicts various types of merges/joins. Object <code>x</code> is the circle labeled as <code>A</code>. Object <code>y</code> is the circle labeled as <code>B</code>. The area of overlap in the Venn diagram indicates the rows on the keys that are shared between the two objects (e.g., <code>participantID</code> values 1, 2, and 3). The non-overlapping area indicates the rows on the keys that are unique to each object (e.g., <code>participantID</code> values 4, 5, and 6 in Object <code>x</code> and values 7, 8, and 9 in Object <code>y</code>). The shaded yellow area indicates which rows (on the keys) are kept in the merged object from each of the two objects, when using each of the merge types. For instance, a left outer join keeps the shared rows and the rows that are unique to object <code>x</code>, but it drops the rows that are unique to object <code>y</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/joins.png" class="img-fluid figure-img"></p>
<figcaption>Types of merges/joins</figcaption>
</figure>
</div>
<p>Image source: <a href="https://predictivehacks.com/?all-tips=anti-joins-with-pandas">Predictive Hacks</a> (archived at: https://perma.cc/WV7U-BS68)</p>
</section>
<section id="fullJoin" class="level3" data-number="17.3.2">
<h3 data-number="17.3.2" class="anchored" data-anchor-id="fullJoin"><span class="header-section-number">17.3.2</span> Full Outer Join</h3>
<p>A full outer join includes all rows in <span class="math inline">\(x\)</span> <strong>or</strong> <span class="math inline">\(y\)</span>. It returns columns from <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Here is how to merge two data frames using a full outer join (i.e., “full join”):</p>
<div id="df4701d2" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>fullJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"outer"</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fullJoinData)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fullJoinData.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
<section id="leftJoin" class="level3" data-number="17.3.3">
<h3 data-number="17.3.3" class="anchored" data-anchor-id="leftJoin"><span class="header-section-number">17.3.3</span> Left Outer Join</h3>
<p>A left outer join includes all rows in <span class="math inline">\(x\)</span>. It returns columns from <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Here is how to merge two data frames using a left outer join (“left join”):</p>
<div id="b5961496" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>leftJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"left"</span>)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(leftJoinData)</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(leftJoinData.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
<section id="rightJoin" class="level3" data-number="17.3.4">
<h3 data-number="17.3.4" class="anchored" data-anchor-id="rightJoin"><span class="header-section-number">17.3.4</span> Right Outer Join</h3>
<p>A right outer join includes all rows in <span class="math inline">\(y\)</span>. It returns columns from <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Here is how to merge two data frames using a right outer join (“right join”):</p>
<div id="bd027021" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>rightJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"right"</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rightJoinData)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rightJoinData.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
<section id="innerJoin" class="level3" data-number="17.3.5">
<h3 data-number="17.3.5" class="anchored" data-anchor-id="innerJoin"><span class="header-section-number">17.3.5</span> Inner Join</h3>
<p>An inner join includes all rows that are in <strong>both</strong> <span class="math inline">\(x\)</span> <strong>and</strong> <span class="math inline">\(y\)</span>. An inner join will return one row of <span class="math inline">\(x\)</span> for each matching row of <span class="math inline">\(y\)</span>, and can duplicate values of records on either side (left or right) if <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> have more than one matching record. It returns columns from <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Here is how to merge two data frames using an inner join:</p>
<div id="4f52cd03" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>innerJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"inner"</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(innerJoinData)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(innerJoinData.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
<section id="crossJoin" class="level3" data-number="17.3.6">
<h3 data-number="17.3.6" class="anchored" data-anchor-id="crossJoin"><span class="header-section-number">17.3.6</span> Cross Join</h3>
<p>A cross join combines each row in <span class="math inline">\(x\)</span> with each row in <span class="math inline">\(y\)</span>.</p>
<div id="7ac05641" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>rater <span class="op">=</span> pd.DataFrame({<span class="st">'rater'</span>: [<span class="st">"Mother"</span>,<span class="st">"Father"</span>,<span class="st">"Teacher"</span>]})</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>timepoint <span class="op">=</span> pd.DataFrame({<span class="st">'timepoint'</span>: <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>)})</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>crossJoinData <span class="op">=</span> rater.assign(key <span class="op">=</span> <span class="dv">1</span>).merge(timepoint.assign(key <span class="op">=</span> <span class="dv">1</span>), on <span class="op">=</span> <span class="st">'key'</span>).drop(<span class="st">'key'</span>, axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(crossJoinData)</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(crossJoinData.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="longToWide" class="level1" data-number="18">
<h1 data-number="18"><span class="header-section-number">18</span> Long to Wide</h1>
<div id="079cfa67" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the iris dataset</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>iris <span class="op">=</span> sns.load_dataset(<span class="st">'iris'</span>)</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the dataset to a long format</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>iris_long <span class="op">=</span> iris.melt(</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>    id_vars <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>    var_name <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>    value_name <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_long)</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot the dataset to a wide format</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>iris_wide <span class="op">=</span> iris_long.pivot_table(</span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>    values <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ModuleNotFoundError: No module named 'seaborn'</code></pre>
</div>
</div>
</section>
<section id="wideToLong" class="level1" data-number="19">
<h1 data-number="19"><span class="header-section-number">19</span> Wide to Long</h1>
<p>Original data:</p>
<div id="49bb6d66" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the iris dataset</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>iris <span class="op">=</span> sns.load_dataset(<span class="st">'iris'</span>)</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ModuleNotFoundError: No module named 'seaborn'</code></pre>
</div>
</div>
<p>Data in long form, transformed from wide form using <code>pandas</code>:</p>
<div id="9437739f" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>iris_long <span class="op">=</span> iris.melt(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>    id_vars <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    var_name <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>    value_name <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'iris' is not defined</code></pre>
</div>
</div>
</section>
<section id="avgAcrossCoders" class="level1" data-number="20">
<h1 data-number="20"><span class="header-section-number">20</span> Average Ratings Across Coders</h1>
<p>Create data with multiple coders:</p>
<div id="223c924a" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with multiple coders</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>idWaveCoder <span class="op">=</span> pd.DataFrame(np.array(np.meshgrid(np.arange(<span class="dv">1</span>, <span class="dv">101</span>), np.arange(<span class="dv">1</span>, <span class="dv">4</span>), np.arange(<span class="dv">1</span>, <span class="dv">4</span>))).T.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">3</span>), columns<span class="op">=</span>[<span class="st">'id'</span>, <span class="st">'wave'</span>, <span class="st">'coder'</span>])</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add positiveAffect and negativeAffect columns with random values</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">0</span>)</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>idWaveCoder[<span class="st">'positiveAffect'</span>] <span class="op">=</span> np.random.randn(<span class="bu">len</span>(idWaveCoder))</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>idWaveCoder[<span class="st">'negativeAffect'</span>] <span class="op">=</span> np.random.randn(<span class="bu">len</span>(idWaveCoder))</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the dataframe</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>idWaveCoder <span class="op">=</span> idWaveCoder.sort_values([<span class="st">'id'</span>, <span class="st">'wave'</span>, <span class="st">'coder'</span>])</span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(idWaveCoder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'pd' is not defined</code></pre>
</div>
</div>
<p>Average data across coders:</p>
<div id="deb4ad21" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by id and wave, then calculate the mean for each group</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>idWave <span class="op">=</span> idWaveCoder.groupby([<span class="st">'id'</span>, <span class="st">'wave'</span>]).mean().reset_index()</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the coder column</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>idWave <span class="op">=</span> idWave.drop(columns<span class="op">=</span>[<span class="st">'coder'</span>])</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(idWave)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>NameError: name 'idWaveCoder' is not defined</code></pre>
</div>
</div>
</section>
<section id="session-info" class="level1" data-number="21">
<h1 data-number="21"><span class="header-section-number">21</span> Session Info</h1>
<div id="457b2cdd" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sys.version)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3.12.2 (main, Feb  7 2024, 16:26:19) [GCC 11.4.0]</code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<br>
<br>
<br>

<!-- Add lab logo -->
<p style="text-align: center;">
    <a href="https://developmental-psychopathology.lab.uiowa.edu" target="_blank">
        <img alt="Developmental Psychopathology Lab" src="images/formalLogo.png" width="60%">
    </a>
</p>

<br>
<br>
<br>

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Add font awesome icons -->
<p style="text-align: center;">
    <a href="https://github.com/DevPsyLab" target="_blank" class="fa fa-github fa-fw fa-3x"></a>
    <a href="https://twitter.com/devpsylab" target="_blank" class="fa fa-twitter fa-fw fa-3x"></a>
    <a href="https://www.facebook.com/DevPsyLab" target="_blank" class="fa fa-facebook fa-fw fa-3x"></a>
	<a href="https://www.instagram.com/dev_psy_lab" target="_blank" class="fa fa-instagram fa-fw fa-3x"></a>
</p>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/DevPsyLab\.github\.io\/pythonDataAnalysisGuides\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb109" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Management"</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="co">  error: true</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="co">  code-fold: true</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="an">jupyter:</span><span class="co"> python3</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools:</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="co">      source: true</span></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="co">      toggle: true</span></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a><span class="fu"># Import Modules {#importModules}</span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a>The default way to import a module in <span class="in">`Python`</span> is:</span>
<span id="cb109-19"><a href="#cb109-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-22"><a href="#cb109-22" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-23"><a href="#cb109-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-24"><a href="#cb109-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-25"><a href="#cb109-25" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> moduleName1</span>
<span id="cb109-26"><a href="#cb109-26" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> moduleName2</span>
<span id="cb109-27"><a href="#cb109-27" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-28"><a href="#cb109-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-29"><a href="#cb109-29" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb109-30"><a href="#cb109-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-33"><a href="#cb109-33" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb109-34"><a href="#cb109-34" aria-hidden="true" tabindex="-1"></a>import math</span>
<span id="cb109-35"><a href="#cb109-35" aria-hidden="true" tabindex="-1"></a>import random</span>
<span id="cb109-36"><a href="#cb109-36" aria-hidden="true" tabindex="-1"></a>import collections</span>
<span id="cb109-37"><a href="#cb109-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-38"><a href="#cb109-38" aria-hidden="true" tabindex="-1"></a>import numpy as np</span>
<span id="cb109-39"><a href="#cb109-39" aria-hidden="true" tabindex="-1"></a>import pandas as pd</span>
<span id="cb109-40"><a href="#cb109-40" aria-hidden="true" tabindex="-1"></a>import matplotlib.pyplot as pp</span>
<span id="cb109-41"><a href="#cb109-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-42"><a href="#cb109-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-43"><a href="#cb109-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># Import Data {#importData}</span></span>
<span id="cb109-44"><a href="#cb109-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-45"><a href="#cb109-45" aria-hidden="true" tabindex="-1"></a>Importing data using <span class="in">`pandas`</span> takes syntax of the following form for <span class="in">`.csv`</span> files:</span>
<span id="cb109-46"><a href="#cb109-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-49"><a href="#cb109-49" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-50"><a href="#cb109-50" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-51"><a href="#cb109-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-52"><a href="#cb109-52" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"filepath/filename.csv"</span>) <span class="co"># uses the pandas module</span></span>
<span id="cb109-53"><a href="#cb109-53" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-54"><a href="#cb109-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-55"><a href="#cb109-55" aria-hidden="true" tabindex="-1"></a>Below, I import a <span class="in">`.csv`</span> file and save it into an object called <span class="in">`mydata`</span> (you could call this object whatever you want):</span>
<span id="cb109-56"><a href="#cb109-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-59"><a href="#cb109-59" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-60"><a href="#cb109-60" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-61"><a href="#cb109-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-62"><a href="#cb109-62" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> pd.read_csv(<span class="st">"https://osf.io/s6wrm/download"</span>) <span class="co"># uses the pandas module</span></span>
<span id="cb109-63"><a href="#cb109-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-64"><a href="#cb109-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-67"><a href="#cb109-67" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-68"><a href="#cb109-68" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb109-69"><a href="#cb109-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-70"><a href="#cb109-70" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> pd.read_csv(<span class="st">"data/titanic.csv"</span>) <span class="co">#https://osf.io/s6wrm/download</span></span>
<span id="cb109-71"><a href="#cb109-71" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-72"><a href="#cb109-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-73"><a href="#cb109-73" aria-hidden="true" tabindex="-1"></a><span class="fu"># Save Data {#saveData}</span></span>
<span id="cb109-74"><a href="#cb109-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-75"><a href="#cb109-75" aria-hidden="true" tabindex="-1"></a>Saving data in Python takes syntax of the following form for <span class="in">`.csv`</span> files:</span>
<span id="cb109-76"><a href="#cb109-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-79"><a href="#cb109-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-80"><a href="#cb109-80" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-81"><a href="#cb109-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-82"><a href="#cb109-82" aria-hidden="true" tabindex="-1"></a><span class="bu">object</span>.to_csv(<span class="st">"filepath/filename.csv"</span>, index <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb109-83"><a href="#cb109-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-84"><a href="#cb109-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-85"><a href="#cb109-85" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb109-86"><a href="#cb109-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-89"><a href="#cb109-89" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-90"><a href="#cb109-90" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-91"><a href="#cb109-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-92"><a href="#cb109-92" aria-hidden="true" tabindex="-1"></a>mydata.to_csv(<span class="st">"mydata.csv"</span>, index <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb109-93"><a href="#cb109-93" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-94"><a href="#cb109-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-95"><a href="#cb109-95" aria-hidden="true" tabindex="-1"></a><span class="fu"># Set a Seed {#seed}</span></span>
<span id="cb109-96"><a href="#cb109-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-97"><a href="#cb109-97" aria-hidden="true" tabindex="-1"></a>Set a seed (any number) to reproduce the results of analyses that involve random number generation.</span>
<span id="cb109-98"><a href="#cb109-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-101"><a href="#cb109-101" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-102"><a href="#cb109-102" aria-hidden="true" tabindex="-1"></a>random.seed(<span class="dv">52242</span>) <span class="co"># uses the random module</span></span>
<span id="cb109-103"><a href="#cb109-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-104"><a href="#cb109-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-105"><a href="#cb109-105" aria-hidden="true" tabindex="-1"></a><span class="fu"># Run a `Python` Script {#runScript}</span></span>
<span id="cb109-106"><a href="#cb109-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-107"><a href="#cb109-107" aria-hidden="true" tabindex="-1"></a>To run a <span class="in">`Python`</span> script, use the following syntax:</span>
<span id="cb109-108"><a href="#cb109-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-111"><a href="#cb109-111" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-112"><a href="#cb109-112" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-113"><a href="#cb109-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-114"><a href="#cb109-114" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>run <span class="st">"filepath/filename.py"</span></span>
<span id="cb109-115"><a href="#cb109-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-116"><a href="#cb109-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-117"><a href="#cb109-117" aria-hidden="true" tabindex="-1"></a><span class="fu"># Render a Quarto (`.qmd`) File {#renderQmd}</span></span>
<span id="cb109-118"><a href="#cb109-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-119"><a href="#cb109-119" aria-hidden="true" tabindex="-1"></a>To render a Quarto (<span class="in">`.qmd`</span>) file, you would typically use the command line.</span>
<span id="cb109-120"><a href="#cb109-120" aria-hidden="true" tabindex="-1"></a>Here is the equivalent command in a <span class="in">`Python`</span> cell using the <span class="in">`!`</span> operator to run shell commands:</span>
<span id="cb109-121"><a href="#cb109-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-124"><a href="#cb109-124" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-125"><a href="#cb109-125" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-126"><a href="#cb109-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-127"><a href="#cb109-127" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>quarto render <span class="st">"filepath/filename.qmd"</span></span>
<span id="cb109-128"><a href="#cb109-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-129"><a href="#cb109-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-130"><a href="#cb109-130" aria-hidden="true" tabindex="-1"></a><span class="fu"># Variable Names {#varNames}</span></span>
<span id="cb109-131"><a href="#cb109-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-132"><a href="#cb109-132" aria-hidden="true" tabindex="-1"></a>To look at the names of variables in a dataframe, use the following syntax:</span>
<span id="cb109-133"><a href="#cb109-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-136"><a href="#cb109-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-137"><a href="#cb109-137" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(mydata.columns)</span>
<span id="cb109-138"><a href="#cb109-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-139"><a href="#cb109-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-140"><a href="#cb109-140" aria-hidden="true" tabindex="-1"></a><span class="fu"># Logical Operators {#logicalOperators}</span></span>
<span id="cb109-141"><a href="#cb109-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-142"><a href="#cb109-142" aria-hidden="true" tabindex="-1"></a>Logical operators evaluate a condition for each value and yield values of <span class="in">`True`</span> and <span class="in">`False`</span>, corresponding to whether the evaluation for a given value met the condition.</span>
<span id="cb109-143"><a href="#cb109-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-144"><a href="#cb109-144" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is Equal To: `==`</span></span>
<span id="cb109-145"><a href="#cb109-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-148"><a href="#cb109-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-149"><a href="#cb109-149" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span></span>
<span id="cb109-150"><a href="#cb109-150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-151"><a href="#cb109-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-152"><a href="#cb109-152" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is Not Equal To: `!=`</span></span>
<span id="cb109-153"><a href="#cb109-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-156"><a href="#cb109-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-157"><a href="#cb109-157" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'survived'</span>] <span class="op">!=</span> <span class="dv">1</span></span>
<span id="cb109-158"><a href="#cb109-158" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-159"><a href="#cb109-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-160"><a href="#cb109-160" aria-hidden="true" tabindex="-1"></a><span class="fu">### Greater Than: `&gt;`</span></span>
<span id="cb109-161"><a href="#cb109-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-164"><a href="#cb109-164" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-165"><a href="#cb109-165" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&gt;</span> <span class="dv">1</span></span>
<span id="cb109-166"><a href="#cb109-166" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-167"><a href="#cb109-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-168"><a href="#cb109-168" aria-hidden="true" tabindex="-1"></a><span class="fu">## Less Than: `&lt;`</span></span>
<span id="cb109-169"><a href="#cb109-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-172"><a href="#cb109-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-173"><a href="#cb109-173" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&lt;</span> <span class="dv">1</span></span>
<span id="cb109-174"><a href="#cb109-174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-175"><a href="#cb109-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-176"><a href="#cb109-176" aria-hidden="true" tabindex="-1"></a><span class="fu">## Greater Than or Equal To: `&gt;=`</span></span>
<span id="cb109-177"><a href="#cb109-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-180"><a href="#cb109-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-181"><a href="#cb109-181" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span></span>
<span id="cb109-182"><a href="#cb109-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-183"><a href="#cb109-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-184"><a href="#cb109-184" aria-hidden="true" tabindex="-1"></a><span class="fu">## Less Than or Equal To: `&lt;=`</span></span>
<span id="cb109-185"><a href="#cb109-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-188"><a href="#cb109-188" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-189"><a href="#cb109-189" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>] <span class="op">&lt;=</span> <span class="dv">1</span></span>
<span id="cb109-190"><a href="#cb109-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-191"><a href="#cb109-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-192"><a href="#cb109-192" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is in a Value of Another Vector: `isin`</span></span>
<span id="cb109-193"><a href="#cb109-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-196"><a href="#cb109-196" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-197"><a href="#cb109-197" aria-hidden="true" tabindex="-1"></a>anotherVector <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">1</span>]</span>
<span id="cb109-198"><a href="#cb109-198" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'parch'</span>].isin(anotherVector)</span>
<span id="cb109-199"><a href="#cb109-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-200"><a href="#cb109-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-201"><a href="#cb109-201" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is Not in a Value of Another Vector</span></span>
<span id="cb109-202"><a href="#cb109-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-203"><a href="#cb109-203" aria-hidden="true" tabindex="-1"></a>In Python, you can use the <span class="in">`~`</span> operator in combination with the <span class="in">`isin`</span> method to check if values are not in another sequence.</span>
<span id="cb109-204"><a href="#cb109-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-207"><a href="#cb109-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-208"><a href="#cb109-208" aria-hidden="true" tabindex="-1"></a><span class="op">~</span>mydata[<span class="st">'parch'</span>].isin(anotherVector)</span>
<span id="cb109-209"><a href="#cb109-209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-210"><a href="#cb109-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-211"><a href="#cb109-211" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is Missing: `isnull()`</span></span>
<span id="cb109-212"><a href="#cb109-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-215"><a href="#cb109-215" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-216"><a href="#cb109-216" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].isnull()</span>
<span id="cb109-217"><a href="#cb109-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-218"><a href="#cb109-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-219"><a href="#cb109-219" aria-hidden="true" tabindex="-1"></a><span class="fu">## Is Not Missing: `notnull()`</span></span>
<span id="cb109-220"><a href="#cb109-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-223"><a href="#cb109-223" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-224"><a href="#cb109-224" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].notnull()</span>
<span id="cb109-225"><a href="#cb109-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-226"><a href="#cb109-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-227"><a href="#cb109-227" aria-hidden="true" tabindex="-1"></a><span class="fu">## And: `&amp;`</span></span>
<span id="cb109-228"><a href="#cb109-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-231"><a href="#cb109-231" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-232"><a href="#cb109-232" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].notnull() <span class="op">&amp;</span> (mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span>)</span>
<span id="cb109-233"><a href="#cb109-233" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-234"><a href="#cb109-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-235"><a href="#cb109-235" aria-hidden="true" tabindex="-1"></a><span class="fu">## Or: `|`</span></span>
<span id="cb109-236"><a href="#cb109-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-239"><a href="#cb109-239" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-240"><a href="#cb109-240" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'prediction'</span>].isnull() <span class="op">|</span> (mydata[<span class="st">'parch'</span>] <span class="op">&gt;=</span> <span class="dv">1</span>)</span>
<span id="cb109-241"><a href="#cb109-241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-242"><a href="#cb109-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-243"><a href="#cb109-243" aria-hidden="true" tabindex="-1"></a><span class="fu"># Subset {#subset}</span></span>
<span id="cb109-244"><a href="#cb109-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-245"><a href="#cb109-245" aria-hidden="true" tabindex="-1"></a>To subset a dataframe, you can use the <span class="in">`loc`</span> and <span class="in">`iloc`</span> accessors, or directly access the columns by their names.</span>
<span id="cb109-246"><a href="#cb109-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-249"><a href="#cb109-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-250"><a href="#cb109-250" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-251"><a href="#cb109-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-252"><a href="#cb109-252" aria-hidden="true" tabindex="-1"></a>dataframe.loc[rowsToKeep, columnsToKeep]</span>
<span id="cb109-253"><a href="#cb109-253" aria-hidden="true" tabindex="-1"></a>dataframe.iloc[rowIndices, columnIndices]</span>
<span id="cb109-254"><a href="#cb109-254" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-255"><a href="#cb109-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-256"><a href="#cb109-256" aria-hidden="true" tabindex="-1"></a>You can subset by using any of the following:</span>
<span id="cb109-257"><a href="#cb109-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-258"><a href="#cb109-258" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>numeric indices of the rows/columns to keep (or drop)</span>
<span id="cb109-259"><a href="#cb109-259" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>names of the rows/columns to keep (or drop)</span>
<span id="cb109-260"><a href="#cb109-260" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>boolean arrays corresponding to which rows/columns to keep</span>
<span id="cb109-261"><a href="#cb109-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-262"><a href="#cb109-262" aria-hidden="true" tabindex="-1"></a><span class="fu">## One Variable</span></span>
<span id="cb109-263"><a href="#cb109-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-264"><a href="#cb109-264" aria-hidden="true" tabindex="-1"></a>To subset one variable, use the following syntax:</span>
<span id="cb109-265"><a href="#cb109-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-268"><a href="#cb109-268" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-269"><a href="#cb109-269" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'age'</span>]</span>
<span id="cb109-270"><a href="#cb109-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-271"><a href="#cb109-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-272"><a href="#cb109-272" aria-hidden="true" tabindex="-1"></a><span class="fu">## Particular Rows of One Variable</span></span>
<span id="cb109-273"><a href="#cb109-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-274"><a href="#cb109-274" aria-hidden="true" tabindex="-1"></a>To subset one variable, use the following syntax:</span>
<span id="cb109-275"><a href="#cb109-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-278"><a href="#cb109-278" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-279"><a href="#cb109-279" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>, <span class="st">'age'</span>]</span>
<span id="cb109-280"><a href="#cb109-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-281"><a href="#cb109-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-282"><a href="#cb109-282" aria-hidden="true" tabindex="-1"></a><span class="fu">## Particular Columns (Variables)</span></span>
<span id="cb109-283"><a href="#cb109-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-284"><a href="#cb109-284" aria-hidden="true" tabindex="-1"></a>To subset particular columns/variables, use the following syntax:</span>
<span id="cb109-285"><a href="#cb109-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-288"><a href="#cb109-288" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-289"><a href="#cb109-289" aria-hidden="true" tabindex="-1"></a>subsetVars <span class="op">=</span> [<span class="st">"survived"</span>, <span class="st">"age"</span>, <span class="st">"prediction"</span>]</span>
<span id="cb109-290"><a href="#cb109-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-291"><a href="#cb109-291" aria-hidden="true" tabindex="-1"></a>mydata[subsetVars]</span>
<span id="cb109-292"><a href="#cb109-292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-293"><a href="#cb109-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-294"><a href="#cb109-294" aria-hidden="true" tabindex="-1"></a>Or, to drop columns:</span>
<span id="cb109-295"><a href="#cb109-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-298"><a href="#cb109-298" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-299"><a href="#cb109-299" aria-hidden="true" tabindex="-1"></a>dropVars <span class="op">=</span> [<span class="st">"sibsp"</span>, <span class="st">"parch"</span>]</span>
<span id="cb109-300"><a href="#cb109-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-301"><a href="#cb109-301" aria-hidden="true" tabindex="-1"></a>mydata.drop(columns <span class="op">=</span> dropVars)</span>
<span id="cb109-302"><a href="#cb109-302" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-303"><a href="#cb109-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-304"><a href="#cb109-304" aria-hidden="true" tabindex="-1"></a><span class="fu">## Particular Rows</span></span>
<span id="cb109-305"><a href="#cb109-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-306"><a href="#cb109-306" aria-hidden="true" tabindex="-1"></a>To subset particular rows, you can use the <span class="in">`iloc`</span> accessor or boolean indexing.</span>
<span id="cb109-307"><a href="#cb109-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-310"><a href="#cb109-310" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-311"><a href="#cb109-311" aria-hidden="true" tabindex="-1"></a>subsetRows <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>]  <span class="co"># Python uses 0-based indexing</span></span>
<span id="cb109-312"><a href="#cb109-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-313"><a href="#cb109-313" aria-hidden="true" tabindex="-1"></a>mydata.iloc[subsetRows]</span>
<span id="cb109-314"><a href="#cb109-314" aria-hidden="true" tabindex="-1"></a>mydata[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb109-315"><a href="#cb109-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-316"><a href="#cb109-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-317"><a href="#cb109-317" aria-hidden="true" tabindex="-1"></a><span class="fu">## Particular Rows and Columns</span></span>
<span id="cb109-318"><a href="#cb109-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-319"><a href="#cb109-319" aria-hidden="true" tabindex="-1"></a>To subset particular rows and columns, you can use the <span class="in">`iloc`</span> accessor or boolean indexing.</span>
<span id="cb109-320"><a href="#cb109-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-323"><a href="#cb109-323" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-324"><a href="#cb109-324" aria-hidden="true" tabindex="-1"></a>subsetRows <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>]  <span class="co"># Python uses 0-based indexing</span></span>
<span id="cb109-325"><a href="#cb109-325" aria-hidden="true" tabindex="-1"></a>subsetVars <span class="op">=</span> [<span class="st">"survived"</span>, <span class="st">"age"</span>, <span class="st">"prediction"</span>]</span>
<span id="cb109-326"><a href="#cb109-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-327"><a href="#cb109-327" aria-hidden="true" tabindex="-1"></a>mydata.iloc[subsetRows][subsetVars]</span>
<span id="cb109-328"><a href="#cb109-328" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'survived'</span>] <span class="op">==</span> <span class="dv">1</span>, subsetVars]</span>
<span id="cb109-329"><a href="#cb109-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-330"><a href="#cb109-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-331"><a href="#cb109-331" aria-hidden="true" tabindex="-1"></a><span class="fu"># View Data {#viewData}</span></span>
<span id="cb109-332"><a href="#cb109-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-333"><a href="#cb109-333" aria-hidden="true" tabindex="-1"></a><span class="fu">## All Data</span></span>
<span id="cb109-334"><a href="#cb109-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-335"><a href="#cb109-335" aria-hidden="true" tabindex="-1"></a>To view data in Python, you can simply print the dataframe:</span>
<span id="cb109-336"><a href="#cb109-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-339"><a href="#cb109-339" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-340"><a href="#cb109-340" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata)</span>
<span id="cb109-341"><a href="#cb109-341" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-342"><a href="#cb109-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-343"><a href="#cb109-343" aria-hidden="true" tabindex="-1"></a>Or, if you're using a <span class="in">`Jupyter`</span> notebook, you can just write the name of the dataframe:</span>
<span id="cb109-344"><a href="#cb109-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-347"><a href="#cb109-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-348"><a href="#cb109-348" aria-hidden="true" tabindex="-1"></a>mydata</span>
<span id="cb109-349"><a href="#cb109-349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-350"><a href="#cb109-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-351"><a href="#cb109-351" aria-hidden="true" tabindex="-1"></a><span class="fu">## First 6 Rows/Elements</span></span>
<span id="cb109-352"><a href="#cb109-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-353"><a href="#cb109-353" aria-hidden="true" tabindex="-1"></a>To view only the first six rows of a dataframe or elements of a series, use the following syntax:</span>
<span id="cb109-354"><a href="#cb109-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-357"><a href="#cb109-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-358"><a href="#cb109-358" aria-hidden="true" tabindex="-1"></a>mydata.head()</span>
<span id="cb109-359"><a href="#cb109-359" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'age'</span>].head()</span>
<span id="cb109-360"><a href="#cb109-360" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-361"><a href="#cb109-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-362"><a href="#cb109-362" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Characteristics {#dataCharacteristics}</span></span>
<span id="cb109-363"><a href="#cb109-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-364"><a href="#cb109-364" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Structure</span></span>
<span id="cb109-365"><a href="#cb109-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-368"><a href="#cb109-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-369"><a href="#cb109-369" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.info())</span>
<span id="cb109-370"><a href="#cb109-370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-371"><a href="#cb109-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-372"><a href="#cb109-372" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Dimensions</span></span>
<span id="cb109-373"><a href="#cb109-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-374"><a href="#cb109-374" aria-hidden="true" tabindex="-1"></a>Number of rows and columns:</span>
<span id="cb109-375"><a href="#cb109-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-378"><a href="#cb109-378" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-379"><a href="#cb109-379" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.shape)</span>
<span id="cb109-380"><a href="#cb109-380" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-381"><a href="#cb109-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-382"><a href="#cb109-382" aria-hidden="true" tabindex="-1"></a><span class="fu">## Number of Elements</span></span>
<span id="cb109-383"><a href="#cb109-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-386"><a href="#cb109-386" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-387"><a href="#cb109-387" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(mydata[<span class="st">'age'</span>]))</span>
<span id="cb109-388"><a href="#cb109-388" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-389"><a href="#cb109-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-390"><a href="#cb109-390" aria-hidden="true" tabindex="-1"></a><span class="fu">## Number of Missing Elements</span></span>
<span id="cb109-391"><a href="#cb109-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-394"><a href="#cb109-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-395"><a href="#cb109-395" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata[<span class="st">'age'</span>].isnull().<span class="bu">sum</span>())</span>
<span id="cb109-396"><a href="#cb109-396" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-397"><a href="#cb109-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-398"><a href="#cb109-398" aria-hidden="true" tabindex="-1"></a><span class="fu">## Number of Non-Missing Elements</span></span>
<span id="cb109-399"><a href="#cb109-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-402"><a href="#cb109-402" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-403"><a href="#cb109-403" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata[<span class="st">'age'</span>].notnull().<span class="bu">sum</span>())</span>
<span id="cb109-404"><a href="#cb109-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-405"><a href="#cb109-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-406"><a href="#cb109-406" aria-hidden="true" tabindex="-1"></a><span class="fu"># Create New Variables {#createNewVars}</span></span>
<span id="cb109-407"><a href="#cb109-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-408"><a href="#cb109-408" aria-hidden="true" tabindex="-1"></a>To create a new variable, you can directly assign a value to a new column in the dataframe.</span>
<span id="cb109-409"><a href="#cb109-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-412"><a href="#cb109-412" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-413"><a href="#cb109-413" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'newVar'</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb109-414"><a href="#cb109-414" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-415"><a href="#cb109-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-416"><a href="#cb109-416" aria-hidden="true" tabindex="-1"></a>Here is an example of creating a new variable:</span>
<span id="cb109-417"><a href="#cb109-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-420"><a href="#cb109-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-421"><a href="#cb109-421" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'ID'</span>] <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(mydata) <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb109-422"><a href="#cb109-422" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-423"><a href="#cb109-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-424"><a href="#cb109-424" aria-hidden="true" tabindex="-1"></a><span class="fu"># Create a Dataframe {#createDF}</span></span>
<span id="cb109-425"><a href="#cb109-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-426"><a href="#cb109-426" aria-hidden="true" tabindex="-1"></a>Here is an example of creating a dataframe:</span>
<span id="cb109-427"><a href="#cb109-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-430"><a href="#cb109-430" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-431"><a href="#cb109-431" aria-hidden="true" tabindex="-1"></a>mydata2 <span class="op">=</span> pd.DataFrame({ <span class="co"># uses pandas module</span></span>
<span id="cb109-432"><a href="#cb109-432" aria-hidden="true" tabindex="-1"></a>  <span class="st">'ID'</span>: <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)) <span class="op">+</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1047</span>, <span class="dv">1052</span>)),</span>
<span id="cb109-433"><a href="#cb109-433" aria-hidden="true" tabindex="-1"></a>  <span class="st">'cat'</span>: np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], <span class="dv">10</span>) <span class="co"># uses numpy module</span></span>
<span id="cb109-434"><a href="#cb109-434" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb109-435"><a href="#cb109-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-436"><a href="#cb109-436" aria-hidden="true" tabindex="-1"></a>mydata2</span>
<span id="cb109-437"><a href="#cb109-437" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-438"><a href="#cb109-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-439"><a href="#cb109-439" aria-hidden="true" tabindex="-1"></a><span class="fu"># Recode Variables {#recodeVars}</span></span>
<span id="cb109-440"><a href="#cb109-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-441"><a href="#cb109-441" aria-hidden="true" tabindex="-1"></a>Here is an example of recoding a variable:</span>
<span id="cb109-442"><a href="#cb109-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-445"><a href="#cb109-445" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-446"><a href="#cb109-446" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"male"</span>, <span class="st">'oldVar1'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb109-447"><a href="#cb109-447" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"female"</span>, <span class="st">'oldVar1'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb109-448"><a href="#cb109-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-449"><a href="#cb109-449" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"male"</span>, <span class="st">'oldVar2'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb109-450"><a href="#cb109-450" aria-hidden="true" tabindex="-1"></a>mydata.loc[mydata[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">"female"</span>, <span class="st">'oldVar2'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb109-451"><a href="#cb109-451" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-452"><a href="#cb109-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-453"><a href="#cb109-453" aria-hidden="true" tabindex="-1"></a>Recode multiple variables:</span>
<span id="cb109-454"><a href="#cb109-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-457"><a href="#cb109-457" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-458"><a href="#cb109-458" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="st">'Yes'</span> <span class="cf">if</span> x <span class="op">==</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">'No'</span>)</span>
<span id="cb109-459"><a href="#cb109-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-460"><a href="#cb109-460" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'survived'</span>:<span class="st">'pclass'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> x <span class="kw">in</span> [<span class="dv">0</span>, <span class="dv">1</span>] <span class="cf">else</span> <span class="dv">2</span>)</span>
<span id="cb109-461"><a href="#cb109-461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-462"><a href="#cb109-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-463"><a href="#cb109-463" aria-hidden="true" tabindex="-1"></a><span class="fu"># Rename Variables {#renameVars}</span></span>
<span id="cb109-464"><a href="#cb109-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-467"><a href="#cb109-467" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-468"><a href="#cb109-468" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> mydata.rename(columns <span class="op">=</span> {</span>
<span id="cb109-469"><a href="#cb109-469" aria-hidden="true" tabindex="-1"></a>    <span class="st">'oldVar1'</span>: <span class="st">'newVar1'</span>,</span>
<span id="cb109-470"><a href="#cb109-470" aria-hidden="true" tabindex="-1"></a>    <span class="st">'oldVar2'</span>: <span class="st">'newVar2'</span></span>
<span id="cb109-471"><a href="#cb109-471" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb109-472"><a href="#cb109-472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-473"><a href="#cb109-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-474"><a href="#cb109-474" aria-hidden="true" tabindex="-1"></a>Using a dictionary of variable names:</span>
<span id="cb109-475"><a href="#cb109-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-478"><a href="#cb109-478" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-479"><a href="#cb109-479" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb109-480"><a href="#cb109-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-481"><a href="#cb109-481" aria-hidden="true" tabindex="-1"></a>varNamesFrom <span class="op">=</span> [<span class="st">"oldVar1"</span>,<span class="st">"oldVar2"</span>]</span>
<span id="cb109-482"><a href="#cb109-482" aria-hidden="true" tabindex="-1"></a>varNamesTo <span class="op">=</span> [<span class="st">"newVar1"</span>,<span class="st">"newVar2"</span>]</span>
<span id="cb109-483"><a href="#cb109-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-484"><a href="#cb109-484" aria-hidden="true" tabindex="-1"></a>rename_dict <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(varNamesFrom, varNamesTo))</span>
<span id="cb109-485"><a href="#cb109-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-486"><a href="#cb109-486" aria-hidden="true" tabindex="-1"></a>mydata <span class="op">=</span> mydata.rename(columns <span class="op">=</span> rename_dict)</span>
<span id="cb109-487"><a href="#cb109-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-488"><a href="#cb109-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-489"><a href="#cb109-489" aria-hidden="true" tabindex="-1"></a><span class="fu"># Convert the Types of Variables {#convertVarTypes}</span></span>
<span id="cb109-490"><a href="#cb109-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-491"><a href="#cb109-491" aria-hidden="true" tabindex="-1"></a>One variable:</span>
<span id="cb109-492"><a href="#cb109-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-495"><a href="#cb109-495" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-496"><a href="#cb109-496" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'factorVar'</span>] <span class="op">=</span> mydata[<span class="st">'sex'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb109-497"><a href="#cb109-497" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'numericVar'</span>] <span class="op">=</span> mydata[<span class="st">'prediction'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb109-498"><a href="#cb109-498" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'integerVar'</span>] <span class="op">=</span> mydata[<span class="st">'parch'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb109-499"><a href="#cb109-499" aria-hidden="true" tabindex="-1"></a>mydata[<span class="st">'characterVar'</span>] <span class="op">=</span> mydata[<span class="st">'sex'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb109-500"><a href="#cb109-500" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-501"><a href="#cb109-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-502"><a href="#cb109-502" aria-hidden="true" tabindex="-1"></a>Multiple variables:</span>
<span id="cb109-503"><a href="#cb109-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-506"><a href="#cb109-506" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-507"><a href="#cb109-507" aria-hidden="true" tabindex="-1"></a>mydata[[<span class="st">'age'</span>, <span class="st">'parch'</span>, <span class="st">'prediction'</span>]] <span class="op">=</span> mydata[[<span class="st">'age'</span>, <span class="st">'parch'</span>, <span class="st">'prediction'</span>]].astype(<span class="bu">float</span>)</span>
<span id="cb109-508"><a href="#cb109-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-509"><a href="#cb109-509" aria-hidden="true" tabindex="-1"></a>mydata.loc[:, <span class="st">'age'</span>:<span class="st">'parch'</span>] <span class="op">=</span> mydata.loc[:, <span class="st">'age'</span>:<span class="st">'parch'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb109-510"><a href="#cb109-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-511"><a href="#cb109-511" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert all categorical columns to string</span></span>
<span id="cb109-512"><a href="#cb109-512" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> mydata.select_dtypes(<span class="st">'category'</span>).columns:</span>
<span id="cb109-513"><a href="#cb109-513" aria-hidden="true" tabindex="-1"></a>    mydata[col] <span class="op">=</span> mydata[col].astype(<span class="bu">str</span>)</span>
<span id="cb109-514"><a href="#cb109-514" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-515"><a href="#cb109-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-516"><a href="#cb109-516" aria-hidden="true" tabindex="-1"></a><span class="fu"># Merging/Joins {#merging}</span></span>
<span id="cb109-517"><a href="#cb109-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-518"><a href="#cb109-518" aria-hidden="true" tabindex="-1"></a><span class="fu">## Overview</span></span>
<span id="cb109-519"><a href="#cb109-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-520"><a href="#cb109-520" aria-hidden="true" tabindex="-1"></a>Merging (also called joining) merges two data objects using a shared set of variables called "keys."</span>
<span id="cb109-521"><a href="#cb109-521" aria-hidden="true" tabindex="-1"></a>The keys are the variable(s) that uniquely identify each row (i.e., they account for the levels of nesting).</span>
<span id="cb109-522"><a href="#cb109-522" aria-hidden="true" tabindex="-1"></a>In some data objects, the key might be the participant's ID (e.g., <span class="in">`participantID`</span>).</span>
<span id="cb109-523"><a href="#cb109-523" aria-hidden="true" tabindex="-1"></a>However, some data objects have multiple keys.</span>
<span id="cb109-524"><a href="#cb109-524" aria-hidden="true" tabindex="-1"></a>For instance, in long form data objects, each participant may have multiple rows corresponding to multiple timepoints.</span>
<span id="cb109-525"><a href="#cb109-525" aria-hidden="true" tabindex="-1"></a>In this case, the keys are <span class="in">`participantID`</span> and <span class="in">`timepoint`</span>.</span>
<span id="cb109-526"><a href="#cb109-526" aria-hidden="true" tabindex="-1"></a>If a participant has multiple rows corresponding to timepoints and measures, the keys are <span class="in">`participantID`</span>, <span class="in">`timepoint`</span>, and <span class="in">`measure`</span>.</span>
<span id="cb109-527"><a href="#cb109-527" aria-hidden="true" tabindex="-1"></a>In general, each row should have a value on each of the keys; there should be no missingness in the keys.</span>
<span id="cb109-528"><a href="#cb109-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-529"><a href="#cb109-529" aria-hidden="true" tabindex="-1"></a>To merge two objects, the keys must be present in both objects.</span>
<span id="cb109-530"><a href="#cb109-530" aria-hidden="true" tabindex="-1"></a>The keys are used to merge the variables in object 1 (<span class="in">`x`</span>) with the variables in object 2 (<span class="in">`y`</span>).</span>
<span id="cb109-531"><a href="#cb109-531" aria-hidden="true" tabindex="-1"></a>Different merge types select different rows to merge.</span>
<span id="cb109-532"><a href="#cb109-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-533"><a href="#cb109-533" aria-hidden="true" tabindex="-1"></a>Note: if the two objects include variables with the same name (apart from the keys), Python will not know how you want each to appear in the merged object.</span>
<span id="cb109-534"><a href="#cb109-534" aria-hidden="true" tabindex="-1"></a>So, it will add a suffix (e.g., <span class="in">`_x`</span>, <span class="in">`_y`</span>) to each common variable to indicate which object (i.e., object <span class="in">`x`</span> or object <span class="in">`y`</span>) the variable came from, where object <span class="in">`x`</span> is the first object—i.e., the object to which object <span class="in">`y`</span> (the second object) is merged.</span>
<span id="cb109-535"><a href="#cb109-535" aria-hidden="true" tabindex="-1"></a>In general, apart from the keys, you should not include variables with the same name in two objects to be merged.</span>
<span id="cb109-536"><a href="#cb109-536" aria-hidden="true" tabindex="-1"></a>To prevent this, either remove or rename the shared variable in one of the objects, or include the shared variable as a key.</span>
<span id="cb109-537"><a href="#cb109-537" aria-hidden="true" tabindex="-1"></a>However, as described above, you should include it as a key ***only*** if it uniquely identifies each row in terms of levels of nesting.</span>
<span id="cb109-538"><a href="#cb109-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-539"><a href="#cb109-539" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Before Merging</span></span>
<span id="cb109-540"><a href="#cb109-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-541"><a href="#cb109-541" aria-hidden="true" tabindex="-1"></a>Here are the data in the <span class="in">`mydata`</span> object:</span>
<span id="cb109-542"><a href="#cb109-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-545"><a href="#cb109-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-546"><a href="#cb109-546" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata)</span>
<span id="cb109-547"><a href="#cb109-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-548"><a href="#cb109-548" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata.shape)</span>
<span id="cb109-549"><a href="#cb109-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-550"><a href="#cb109-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-551"><a href="#cb109-551" aria-hidden="true" tabindex="-1"></a>Here are the data in the <span class="in">`mydata2`</span> object:</span>
<span id="cb109-552"><a href="#cb109-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-555"><a href="#cb109-555" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-556"><a href="#cb109-556" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata2)</span>
<span id="cb109-557"><a href="#cb109-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-558"><a href="#cb109-558" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mydata2.shape)</span>
<span id="cb109-559"><a href="#cb109-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-560"><a href="#cb109-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-561"><a href="#cb109-561" aria-hidden="true" tabindex="-1"></a><span class="fu">## Types of Joins {#mergeTypes}</span></span>
<span id="cb109-562"><a href="#cb109-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-563"><a href="#cb109-563" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visual Overview of Join Types</span></span>
<span id="cb109-564"><a href="#cb109-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-565"><a href="#cb109-565" aria-hidden="true" tabindex="-1"></a>Below is a visual that depicts various types of merges/joins.</span>
<span id="cb109-566"><a href="#cb109-566" aria-hidden="true" tabindex="-1"></a>Object <span class="in">`x`</span> is the circle labeled as <span class="in">`A`</span>.</span>
<span id="cb109-567"><a href="#cb109-567" aria-hidden="true" tabindex="-1"></a>Object <span class="in">`y`</span> is the circle labeled as <span class="in">`B`</span>.</span>
<span id="cb109-568"><a href="#cb109-568" aria-hidden="true" tabindex="-1"></a>The area of overlap in the Venn diagram indicates the rows on the keys that are shared between the two objects (e.g., <span class="in">`participantID`</span> values 1, 2, and 3).</span>
<span id="cb109-569"><a href="#cb109-569" aria-hidden="true" tabindex="-1"></a>The non-overlapping area indicates the rows on the keys that are unique to each object (e.g., <span class="in">`participantID`</span> values 4, 5, and 6 in Object <span class="in">`x`</span> and values 7, 8, and 9 in Object <span class="in">`y`</span>).</span>
<span id="cb109-570"><a href="#cb109-570" aria-hidden="true" tabindex="-1"></a>The shaded yellow area indicates which rows (on the keys) are kept in the merged object from each of the two objects, when using each of the merge types.</span>
<span id="cb109-571"><a href="#cb109-571" aria-hidden="true" tabindex="-1"></a>For instance, a left outer join keeps the shared rows and the rows that are unique to object <span class="in">`x`</span>, but it drops the rows that are unique to object <span class="in">`y`</span>.</span>
<span id="cb109-572"><a href="#cb109-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-573"><a href="#cb109-573" aria-hidden="true" tabindex="-1"></a><span class="al">![Types of merges/joins](images/joins.png)</span></span>
<span id="cb109-574"><a href="#cb109-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-575"><a href="#cb109-575" aria-hidden="true" tabindex="-1"></a>Image source: <span class="co">[</span><span class="ot">Predictive Hacks</span><span class="co">](https://predictivehacks.com/?all-tips=anti-joins-with-pandas)</span> (archived at: https://perma.cc/WV7U-BS68)</span>
<span id="cb109-576"><a href="#cb109-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-577"><a href="#cb109-577" aria-hidden="true" tabindex="-1"></a><span class="fu">### Full Outer Join {#fullJoin}</span></span>
<span id="cb109-578"><a href="#cb109-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-579"><a href="#cb109-579" aria-hidden="true" tabindex="-1"></a>A full outer join includes all rows in $x$ **or** $y$.</span>
<span id="cb109-580"><a href="#cb109-580" aria-hidden="true" tabindex="-1"></a>It returns columns from $x$ and $y$.</span>
<span id="cb109-581"><a href="#cb109-581" aria-hidden="true" tabindex="-1"></a>Here is how to merge two data frames using a full outer join (i.e., "full join"):</span>
<span id="cb109-582"><a href="#cb109-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-585"><a href="#cb109-585" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-586"><a href="#cb109-586" aria-hidden="true" tabindex="-1"></a>fullJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"outer"</span>)</span>
<span id="cb109-587"><a href="#cb109-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-588"><a href="#cb109-588" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fullJoinData)</span>
<span id="cb109-589"><a href="#cb109-589" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fullJoinData.shape)</span>
<span id="cb109-590"><a href="#cb109-590" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-591"><a href="#cb109-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-592"><a href="#cb109-592" aria-hidden="true" tabindex="-1"></a><span class="fu">### Left Outer Join {#leftJoin}</span></span>
<span id="cb109-593"><a href="#cb109-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-594"><a href="#cb109-594" aria-hidden="true" tabindex="-1"></a>A left outer join includes all rows in $x$.</span>
<span id="cb109-595"><a href="#cb109-595" aria-hidden="true" tabindex="-1"></a>It returns columns from $x$ and $y$.</span>
<span id="cb109-596"><a href="#cb109-596" aria-hidden="true" tabindex="-1"></a>Here is how to merge two data frames using a left outer join ("left join"):</span>
<span id="cb109-597"><a href="#cb109-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-600"><a href="#cb109-600" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-601"><a href="#cb109-601" aria-hidden="true" tabindex="-1"></a>leftJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"left"</span>)</span>
<span id="cb109-602"><a href="#cb109-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-603"><a href="#cb109-603" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(leftJoinData)</span>
<span id="cb109-604"><a href="#cb109-604" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(leftJoinData.shape)</span>
<span id="cb109-605"><a href="#cb109-605" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-606"><a href="#cb109-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-607"><a href="#cb109-607" aria-hidden="true" tabindex="-1"></a><span class="fu">### Right Outer Join {#rightJoin}</span></span>
<span id="cb109-608"><a href="#cb109-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-609"><a href="#cb109-609" aria-hidden="true" tabindex="-1"></a>A right outer join includes all rows in $y$.</span>
<span id="cb109-610"><a href="#cb109-610" aria-hidden="true" tabindex="-1"></a>It returns columns from $x$ and $y$.</span>
<span id="cb109-611"><a href="#cb109-611" aria-hidden="true" tabindex="-1"></a>Here is how to merge two data frames using a right outer join ("right join"):</span>
<span id="cb109-612"><a href="#cb109-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-615"><a href="#cb109-615" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-616"><a href="#cb109-616" aria-hidden="true" tabindex="-1"></a>rightJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"right"</span>)</span>
<span id="cb109-617"><a href="#cb109-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-618"><a href="#cb109-618" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rightJoinData)</span>
<span id="cb109-619"><a href="#cb109-619" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rightJoinData.shape)</span>
<span id="cb109-620"><a href="#cb109-620" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-621"><a href="#cb109-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-622"><a href="#cb109-622" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inner Join {#innerJoin}</span></span>
<span id="cb109-623"><a href="#cb109-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-624"><a href="#cb109-624" aria-hidden="true" tabindex="-1"></a>An inner join includes all rows that are in **both** $x$ **and** $y$.</span>
<span id="cb109-625"><a href="#cb109-625" aria-hidden="true" tabindex="-1"></a>An inner join will return one row of $x$ for each matching row of $y$, and can duplicate values of records on either side (left or right) if $x$ and $y$ have more than one matching record.</span>
<span id="cb109-626"><a href="#cb109-626" aria-hidden="true" tabindex="-1"></a>It returns columns from $x$ and $y$.</span>
<span id="cb109-627"><a href="#cb109-627" aria-hidden="true" tabindex="-1"></a>Here is how to merge two data frames using an inner join:</span>
<span id="cb109-628"><a href="#cb109-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-631"><a href="#cb109-631" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-632"><a href="#cb109-632" aria-hidden="true" tabindex="-1"></a>innerJoinData <span class="op">=</span> pd.merge(mydata, mydata2, on <span class="op">=</span> <span class="st">"ID"</span>, how <span class="op">=</span> <span class="st">"inner"</span>)</span>
<span id="cb109-633"><a href="#cb109-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-634"><a href="#cb109-634" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(innerJoinData)</span>
<span id="cb109-635"><a href="#cb109-635" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(innerJoinData.shape)</span>
<span id="cb109-636"><a href="#cb109-636" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-637"><a href="#cb109-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-638"><a href="#cb109-638" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cross Join {#crossJoin}</span></span>
<span id="cb109-639"><a href="#cb109-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-640"><a href="#cb109-640" aria-hidden="true" tabindex="-1"></a>A cross join combines each row in $x$ with each row in $y$.</span>
<span id="cb109-641"><a href="#cb109-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-644"><a href="#cb109-644" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-645"><a href="#cb109-645" aria-hidden="true" tabindex="-1"></a>rater <span class="op">=</span> pd.DataFrame({<span class="st">'rater'</span>: [<span class="st">"Mother"</span>,<span class="st">"Father"</span>,<span class="st">"Teacher"</span>]})</span>
<span id="cb109-646"><a href="#cb109-646" aria-hidden="true" tabindex="-1"></a>timepoint <span class="op">=</span> pd.DataFrame({<span class="st">'timepoint'</span>: <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>)})</span>
<span id="cb109-647"><a href="#cb109-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-648"><a href="#cb109-648" aria-hidden="true" tabindex="-1"></a>crossJoinData <span class="op">=</span> rater.assign(key <span class="op">=</span> <span class="dv">1</span>).merge(timepoint.assign(key <span class="op">=</span> <span class="dv">1</span>), on <span class="op">=</span> <span class="st">'key'</span>).drop(<span class="st">'key'</span>, axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb109-649"><a href="#cb109-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-650"><a href="#cb109-650" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(crossJoinData)</span>
<span id="cb109-651"><a href="#cb109-651" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(crossJoinData.shape)</span>
<span id="cb109-652"><a href="#cb109-652" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-653"><a href="#cb109-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-654"><a href="#cb109-654" aria-hidden="true" tabindex="-1"></a><span class="fu"># Long to Wide {#longToWide}</span></span>
<span id="cb109-655"><a href="#cb109-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-658"><a href="#cb109-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-659"><a href="#cb109-659" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb109-660"><a href="#cb109-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-661"><a href="#cb109-661" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the iris dataset</span></span>
<span id="cb109-662"><a href="#cb109-662" aria-hidden="true" tabindex="-1"></a>iris <span class="op">=</span> sns.load_dataset(<span class="st">'iris'</span>)</span>
<span id="cb109-663"><a href="#cb109-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-664"><a href="#cb109-664" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the dataset to a long format</span></span>
<span id="cb109-665"><a href="#cb109-665" aria-hidden="true" tabindex="-1"></a>iris_long <span class="op">=</span> iris.melt(</span>
<span id="cb109-666"><a href="#cb109-666" aria-hidden="true" tabindex="-1"></a>    id_vars <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb109-667"><a href="#cb109-667" aria-hidden="true" tabindex="-1"></a>    var_name <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb109-668"><a href="#cb109-668" aria-hidden="true" tabindex="-1"></a>    value_name <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb109-669"><a href="#cb109-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-670"><a href="#cb109-670" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_long)</span>
<span id="cb109-671"><a href="#cb109-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-672"><a href="#cb109-672" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot the dataset to a wide format</span></span>
<span id="cb109-673"><a href="#cb109-673" aria-hidden="true" tabindex="-1"></a>iris_wide <span class="op">=</span> iris_long.pivot_table(</span>
<span id="cb109-674"><a href="#cb109-674" aria-hidden="true" tabindex="-1"></a>    index <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb109-675"><a href="#cb109-675" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb109-676"><a href="#cb109-676" aria-hidden="true" tabindex="-1"></a>    values <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb109-677"><a href="#cb109-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-678"><a href="#cb109-678" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_wide)</span>
<span id="cb109-679"><a href="#cb109-679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-680"><a href="#cb109-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-681"><a href="#cb109-681" aria-hidden="true" tabindex="-1"></a><span class="fu"># Wide to Long {#wideToLong}</span></span>
<span id="cb109-682"><a href="#cb109-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-683"><a href="#cb109-683" aria-hidden="true" tabindex="-1"></a>Original data:</span>
<span id="cb109-684"><a href="#cb109-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-687"><a href="#cb109-687" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-688"><a href="#cb109-688" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb109-689"><a href="#cb109-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-690"><a href="#cb109-690" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the iris dataset</span></span>
<span id="cb109-691"><a href="#cb109-691" aria-hidden="true" tabindex="-1"></a>iris <span class="op">=</span> sns.load_dataset(<span class="st">'iris'</span>)</span>
<span id="cb109-692"><a href="#cb109-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-693"><a href="#cb109-693" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris)</span>
<span id="cb109-694"><a href="#cb109-694" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-695"><a href="#cb109-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-696"><a href="#cb109-696" aria-hidden="true" tabindex="-1"></a>Data in long form, transformed from wide form using <span class="in">`pandas`</span>:</span>
<span id="cb109-697"><a href="#cb109-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-700"><a href="#cb109-700" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-701"><a href="#cb109-701" aria-hidden="true" tabindex="-1"></a>iris_long <span class="op">=</span> iris.melt(</span>
<span id="cb109-702"><a href="#cb109-702" aria-hidden="true" tabindex="-1"></a>    id_vars <span class="op">=</span> <span class="st">'species'</span>,</span>
<span id="cb109-703"><a href="#cb109-703" aria-hidden="true" tabindex="-1"></a>    var_name <span class="op">=</span> <span class="st">'measurement'</span>,</span>
<span id="cb109-704"><a href="#cb109-704" aria-hidden="true" tabindex="-1"></a>    value_name <span class="op">=</span> <span class="st">'value'</span>)</span>
<span id="cb109-705"><a href="#cb109-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-706"><a href="#cb109-706" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(iris_long)</span>
<span id="cb109-707"><a href="#cb109-707" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-708"><a href="#cb109-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-709"><a href="#cb109-709" aria-hidden="true" tabindex="-1"></a><span class="fu"># Average Ratings Across Coders {#avgAcrossCoders}</span></span>
<span id="cb109-710"><a href="#cb109-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-711"><a href="#cb109-711" aria-hidden="true" tabindex="-1"></a>Create data with multiple coders:</span>
<span id="cb109-712"><a href="#cb109-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-715"><a href="#cb109-715" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-716"><a href="#cb109-716" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with multiple coders</span></span>
<span id="cb109-717"><a href="#cb109-717" aria-hidden="true" tabindex="-1"></a>idWaveCoder <span class="op">=</span> pd.DataFrame(np.array(np.meshgrid(np.arange(<span class="dv">1</span>, <span class="dv">101</span>), np.arange(<span class="dv">1</span>, <span class="dv">4</span>), np.arange(<span class="dv">1</span>, <span class="dv">4</span>))).T.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">3</span>), columns<span class="op">=</span>[<span class="st">'id'</span>, <span class="st">'wave'</span>, <span class="st">'coder'</span>])</span>
<span id="cb109-718"><a href="#cb109-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-719"><a href="#cb109-719" aria-hidden="true" tabindex="-1"></a><span class="co"># Add positiveAffect and negativeAffect columns with random values</span></span>
<span id="cb109-720"><a href="#cb109-720" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">0</span>)</span>
<span id="cb109-721"><a href="#cb109-721" aria-hidden="true" tabindex="-1"></a>idWaveCoder[<span class="st">'positiveAffect'</span>] <span class="op">=</span> np.random.randn(<span class="bu">len</span>(idWaveCoder))</span>
<span id="cb109-722"><a href="#cb109-722" aria-hidden="true" tabindex="-1"></a>idWaveCoder[<span class="st">'negativeAffect'</span>] <span class="op">=</span> np.random.randn(<span class="bu">len</span>(idWaveCoder))</span>
<span id="cb109-723"><a href="#cb109-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-724"><a href="#cb109-724" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the dataframe</span></span>
<span id="cb109-725"><a href="#cb109-725" aria-hidden="true" tabindex="-1"></a>idWaveCoder <span class="op">=</span> idWaveCoder.sort_values([<span class="st">'id'</span>, <span class="st">'wave'</span>, <span class="st">'coder'</span>])</span>
<span id="cb109-726"><a href="#cb109-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-727"><a href="#cb109-727" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(idWaveCoder)</span>
<span id="cb109-728"><a href="#cb109-728" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-729"><a href="#cb109-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-730"><a href="#cb109-730" aria-hidden="true" tabindex="-1"></a>Average data across coders:</span>
<span id="cb109-731"><a href="#cb109-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-734"><a href="#cb109-734" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-735"><a href="#cb109-735" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by id and wave, then calculate the mean for each group</span></span>
<span id="cb109-736"><a href="#cb109-736" aria-hidden="true" tabindex="-1"></a>idWave <span class="op">=</span> idWaveCoder.groupby([<span class="st">'id'</span>, <span class="st">'wave'</span>]).mean().reset_index()</span>
<span id="cb109-737"><a href="#cb109-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-738"><a href="#cb109-738" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the coder column</span></span>
<span id="cb109-739"><a href="#cb109-739" aria-hidden="true" tabindex="-1"></a>idWave <span class="op">=</span> idWave.drop(columns<span class="op">=</span>[<span class="st">'coder'</span>])</span>
<span id="cb109-740"><a href="#cb109-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-741"><a href="#cb109-741" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(idWave)</span>
<span id="cb109-742"><a href="#cb109-742" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb109-743"><a href="#cb109-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-744"><a href="#cb109-744" aria-hidden="true" tabindex="-1"></a><span class="fu"># Session Info</span></span>
<span id="cb109-745"><a href="#cb109-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-748"><a href="#cb109-748" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb109-749"><a href="#cb109-749" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb109-750"><a href="#cb109-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-751"><a href="#cb109-751" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sys.version)</span>
<span id="cb109-752"><a href="#cb109-752" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>